<!doctype html>
<html>
<body>
<div class=container></div>
<script src=../pubnub.js></script>
<script>
    // ----------------------------------------------
    // INIT
    // ----------------------------------------------
    var channel = 'kong8'
    ,   pubnub  = PUBNUB({
        publish_key   : 'demo',
        //subscribe_key : 'sub-c-8b36d478-ab01-11e3-b6c1-02ee2ddab7fe',
        subscribe_key : 'demo',
        ssl           : false,
        //origin        : 'pubsub.pubnub.com'
        origin        : 'dara25.devbuild.pubnub.com',
    });

    // ----------------------------------------------
    // Establish a Connection
    // ----------------------------------------------
    log('Opening a Connection.');
    pubnub.subscribe({
        channel  : channel,
        connect  : ready,
        callback : receive,
        presence : presence,
        noheresync : true,
        //heartbeat : 20
    });

    // ----------------------------------------------
    // Connection Is Open Now and Ready
    // ----------------------------------------------
    function ready() {
        log('Connection Established.');
    }

    // ----------------------------------------------
    // Received Message
    // ----------------------------------------------
    function receive(message) {
        log('Received a Message:', message);
    }

    function presence(message) {
        log('Received Presence:', message);
    }

    function log() {
        console.log(arguments);
    }
</script>
</body>
</html>
